<!DOCTYPE html><html lang="zh" data-theme-enabled="1"><head><script>window.currentUser = null;</script><script>window.rateUsdToNative = 6.3589;</script><title itemprop="name">贝塞尔曲线</title><link href="../pack/styles.e61986aaa5d558f47fd2.css" rel="stylesheet"><meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=yes, minimum-scale=1.0"><meta name="apple-mobile-web-app-capable" content="yes"><!-- chrome autotranslate is enabled only for "en" main version--><meta name="google" content="notranslate"><script>if (window.devicePixelRatio > 1) document.cookie = 'pixelRatio=' + window.devicePixelRatio + ';path=/;expires=Tue, 19 Jan 2038 03:14:07 GMT';</script><link href="//fonts.googleapis.com/css?family=Open+Sans:bold,italic,bolditalic" rel="stylesheet"><link rel="apple-touch-icon-precomposed" href="../img/favicon/apple-touch-icon-precomposed.png"><link rel="canonical" href="https://zh.javascript.info/bezier-curve"><meta name="msapplication-TileColor" content="#222A2C"><meta name="msapplication-TileImage" content="/img/favicon/tileicon.png"><link rel="icon" href="../img/favicon/favicon.png"><meta itemprop="image" content="https://zh.javascript.info/img/site_preview_en_512x512.png"><meta property="og:title" content="贝塞尔曲线"><meta property="og:image" content="../img/site_preview_en_1200x630.png"><meta property="og:image:type" content="image/png"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta property="fb:admins" content="100001562528165"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="贝塞尔曲线"><meta name="twitter:site" content="@iliakan"><meta name="twitter:creator" content="@iliakan"><meta name="twitter:image" content="https://zh.javascript.info/img/site_preview_en_512x512.png"><link rel="prev" href="/animation"><link rel="next" href="/css-animations"><script>window.GA_ID = "UA-2056213-15";</script><script>window.YANDEX_METRIKA_ID = 65598091;</script><script>window.GoogleAnalyticsObject="ga",window.ga=function(){window.ga.q.push(arguments)},window.ga.q=[],window.ga.l=Date.now(),ga("create",GA_ID,"auto"),window.GTM_ID&&ga("require",GTM_ID),window.currentUser?ga("set","&uid",currentUser.id):ga("set","anonymizeIp",!0),window.addEventListener("error",function(e){var r=(e.filename||e.errorUrl)+": "+(e.lineno||e.errorLine),n=e.stack||e.error&&e.error.stack;ga("send","exception",{exDescription:e.message+" "+r+" "+n,exFatal:!0})});</script><script src="https://www.google-analytics.com/analytics.js" async></script><script>ga('send', 'pageview');</script><script>window.metrika={reachGoal:function(){}},window.yandex_metrika_callbacks=[function(){try{window.metrika=new Ya.Metrika({id:YANDEX_METRIKA_ID,webvisor:!0,clickmap:!0,params:{user:window.currentUser&&window.currentUser.id}}),metrika.trackLinks({delay:150}),window.addEventListener("error",function(r){window.metrika.reachGoal("JSERROR",{src:(r.filename||r.errorUrl)+": "+(r.lineno||r.errorLine),stack:r.stack||r.error&&r.error.stack,message:r.message})})}catch(r){}}];</script><script src="//mc.yandex.ru/metrika/watch.js" async></script><script>window.RECAPTCHA_ID = "6LfmLAEVAAAAAJMykMnf7aY8nkyTRmYi2ynx51R1";</script><script src="../pack/init.f551d10c469632252be6.js"></script><script src="../pack/head.7c4dbce7f0d4e5d1865e.js" defer></script><meta property="og:title" content="贝塞尔曲线"><meta property="og:type" content="article"><script src="../pack/tutorial.0085805d53a665cf3a7e.js" defer></script><script src="../pack/footer.b5edaae5b6e4efe79394.js" defer></script></head><body class="no-icons"><script>window.fontTest();</script><div class="page-wrapper page-wrapper_sidebar_on"><!--[if IE]><div style="color:red;text-align:center">很抱歉，我们不支持 Internet Explorer 等浏览器，请使用一个更新版本的浏览器。</div><![endif]--><div class="sitetoolbar sitetoolbar_tutorial"><script>window.langs = [{"code":"ar","name":"Arabic"},{"code":"az","name":"Azerbaijani"},{"code":"bg","name":"Bulgarian"},{"code":"bn","name":"Bengali"},{"code":"bs","name":"Bosnian"},{"code":"ca","name":"Catalan"},{"code":"cs","name":"Czech"},{"code":"da","name":"Danish"},{"code":"de","name":"German"},{"code":"el","name":"Greek"},{"code":"en","name":"English"},{"code":"es","name":"Spanish"},{"code":"fa","name":"Persian (Farsi)"},{"code":"fi","name":"Finnish"},{"code":"fr","name":"French"},{"code":"he","name":"Hebrew"},{"code":"hi","name":"Hindi"},{"code":"hr","name":"Croatian"},{"code":"hu","name":"Hungarian"},{"code":"hy","name":"Armenian"},{"code":"id","name":"Indonesian"},{"code":"it","name":"Italian"},{"code":"ja","name":"Japanese"},{"code":"ka","name":"Georgian"},{"code":"kk","name":"Kazakh"},{"code":"km","name":"Central Khmer"},{"code":"ko","name":"Korean"},{"code":"lt","name":"Lithuanian"},{"code":"me","name":"Montenegrin"},{"code":"ml","name":"Malayalam"},{"code":"my","name":"Burmese"},{"code":"nl","name":"Dutch"},{"code":"no","name":"Norvegian"},{"code":"pa","name":"Punjabi"},{"code":"pl","name":"Polish"},{"code":"pt","name":"Portuguese"},{"code":"ro","name":"Romanian"},{"code":"ru","name":"Russian"},{"code":"si","name":"Sinhala"},{"code":"sk","name":"Slovak"},{"code":"sl","name":"Slovenian"},{"code":"sq","name":"Albanian"},{"code":"sr","name":"Serbian"},{"code":"ta","name":"Tamil"},{"code":"te","name":"Telugu"},{"code":"test","name":"Test"},{"code":"th","name":"Thai"},{"code":"tk","name":"Turkmen"},{"code":"tr","name":"Turkish"},{"code":"uk","name":"Ukrainian"},{"code":"ur","name":"Urdu"},{"code":"uz","name":"Uzbek"},{"code":"v2","name":"v2"},{"code":"vi","name":"Vietnamese"},{"code":"zh-hant","name":"Chinese Traditional"},{"code":"zh","name":"Chinese"}];</script><script>window.lang = "zh";</script><script>{let t=navigator.languages||[];t=t.map(t=>t.toLowerCase());let o,i,n=[];for(let o of window.langs)for(let i of t)if(i===o.code||i.startsWith(o.code+"-")){n.push(o);break}if(!o&&"ru"!=lang&&"en"!=lang){n.find(t=>"en"==t.code)&&(o=`\n            According to your browser headers, you know English. Please help to <a href="https://github.com/javascript-tutorial/${lang}.javascript.info#readme">translate the tutorial</a>.\n            Thank you!\n          `,i="notify-translate-tutorial-local")}if(o){let t=`<div class="notification notification_top notification_info sitetoolbar__notification" style="display:none" id="${i}">\n          <div class="notification__content">${o}</div>\n          <button class="notification__close" title="Close"></button>\n        </div>`;document.write(t),showTopNotification()}}</script><div class="sitetoolbar__content"><div class="sitetoolbar__lang-switcher"><button class="sitetoolbar__dropdown-button" data-dropdown-toggler>ZH</button><div class="sitetoolbar__dropdown-wrap"><div class="sitetoolbar__dropdown-body"><div class="sitetoolbar__lang-switcher-body"><div class="supported-langs supported-langs_toolbar"><div class="supported-langs__container"><ul class="supported-langs__list" style="height:200px"><li class="supported-langs__item"><a class="supported-langs__link" href="https://ar.javascript.info/bezier-curve"><span class="supported-langs__brief">AR</span><span class="supported-langs__title">عربي</span></a></li><li class="supported-langs__item"><a class="supported-langs__link" href="https://javascript.info/bezier-curve"><span class="supported-langs__brief">EN</span><span class="supported-langs__title">English</span></a></li><li class="supported-langs__item"><a class="supported-langs__link" href="https://es.javascript.info/bezier-curve"><span class="supported-langs__brief">ES</span><span class="supported-langs__title">Español</span></a></li><li class="supported-langs__item"><a class="supported-langs__link" href="https://fr.javascript.info/bezier-curve"><span class="supported-langs__brief">FR</span><span class="supported-langs__title">Français</span></a></li><li class="supported-langs__item"><a class="supported-langs__link" href="https://id.javascript.info/"><span class="supported-langs__brief">ID</span><span class="supported-langs__title">Indonesia</span></a></li><li class="supported-langs__item"><a class="supported-langs__link" href="https://it.javascript.info/bezier-curve"><span class="supported-langs__brief">IT</span><span class="supported-langs__title">Italiano</span></a></li></ul><ul class="supported-langs__list" style="height:200px"><li class="supported-langs__item"><a class="supported-langs__link" href="https://ja.javascript.info/bezier-curve"><span class="supported-langs__brief">JA</span><span class="supported-langs__title">日本語</span></a></li><li class="supported-langs__item"><a class="supported-langs__link" href="https://ko.javascript.info/bezier-curve"><span class="supported-langs__brief">KO</span><span class="supported-langs__title">한국어</span></a></li><li class="supported-langs__item"><a class="supported-langs__link" href="https://learn.javascript.ru/bezier-curve"><span class="supported-langs__brief">RU</span><span class="supported-langs__title">Русский</span></a></li><li class="supported-langs__item"><a class="supported-langs__link" href="https://tr.javascript.info/"><span class="supported-langs__brief">TR</span><span class="supported-langs__title">Türkçe</span></a></li><li class="supported-langs__item"><a class="supported-langs__link" href="https://uk.javascript.info/"><span class="supported-langs__brief">UK</span><span class="supported-langs__title">Українська</span></a></li><li class="supported-langs__item supported-langs__item_current"><a class="supported-langs__link" href="index.html"><span class="supported-langs__brief">ZH</span><span class="supported-langs__title">简体中文</span></a></li></ul></div><div class="supported-langs__text">我们希望将这个开源项目提供给全世界的人。请帮助我们将教程的内容 <a href="https://github.com/javascript-tutorial/translate" rel="noopener noreferrer" target="_blank">翻译为你所掌握的语言</a> 对应的版本。</div></div></div></div></div></div><div class="sitetoolbar__logo-wrap"><a class="sitetoolbar__link sitetoolbar__link_logo" href="../index.html"><img class="sitetoolbar__logo sitetoolbar__logo_normal" src="../img/sitetoolbar__logo_en.svg" width="200" alt role="presentation"><img class="sitetoolbar__logo sitetoolbar__logo_normal sitetoolbar__logo_dark" src="../img/sitetoolbar__logo_en-white.svg" width="200" alt role="presentation"><img class="sitetoolbar__logo sitetoolbar__logo_small" src="../img/sitetoolbar__logo_small_en.svg" width="70" alt role="presentation"><img class="sitetoolbar__logo sitetoolbar__logo_small sitetoolbar__logo_dark" src="../img/sitetoolbar__logo_small_en-white.svg" width="70" alt role="presentation"><script>Array.prototype.forEach.call(document.querySelectorAll("img.sitetoolbar__logo"),function(e){let t=document.createElement("object");t.type="image/svg+xml",t.className=e.className,t.style.cssText="left:0;top:0;position:absolute",t.onload=function(){t.onload=null,e.style.visibility="hidden"},t.data=e.src,e.parentNode.insertBefore(t,e)});</script></a></div><div class="sitetoolbar__nav-toggle-wrap"><button class="sitetoolbar__nav-toggle" type="button"></button></div><nav class="sitetoolbar__sections"><ul class="sitetoolbar__sections-list"></ul></nav><div class="sitetoolbar__book-wrap"><a class="buy-book-button" href="../ebook/index.html"><span class="buy-book-button__extra-text">购买</span>EPUB/PDF</a></div><div class="sitetoolbar__theme-switcher"><div class="theme-changer"><label class="theme-changer__label" for="theme-changer-input" data-tooltip="Change theme"><input class="theme-changer__input" type="checkbox" id="theme-changer-input" data-theme-changer="data-theme-changer"><span class="theme-changer__icon theme-changer__icon_light-theme"></span><span class="theme-changer__icon theme-changer__icon_dark-theme"></span></label></div></div><div class="sitetoolbar__search-wrap"><div class="sitetoolbar__search-content"><button class="sitetoolbar__search-toggle" type="button"></button><form class="sitetoolbar__search" method="GET" action="/search"><div class="sitetoolbar__search-input"><div class="text-input"><input class="text-input__control" name="query" placeholder="在 Javascript.info 网站中搜索" required="required" type="text"></div><button class="sitetoolbar__find" type="submit">搜索</button></div></form></div></div></div><div class="tablet-menu"><div class="tablet-menu__line"><div class="tablet-menu__content"><form class="tablet-menu-search" action="/search/"><input class="tablet-menu-search__input" type="search" name="query" placeholder="在教程中搜索" required="required"><button class="tablet-menu-search__button" type="submit" name="type" value="articles">搜索</button></form></div></div><div class="tablet-menu__line"><div class="tablet-menu__content"><a class="map" href="../tutorial/map/index.html" data-action="tutorial-map"><span class="map__text">教程路线图</span></a></div></div><div class="tablet-menu__line"><div class="tablet-menu__content"><div class="theme-changer theme-changer_tablet-menu theme-changer_has-label"><label class="theme-changer__label" for="theme-changer-input-tablet" data-tooltip="Change theme"><input class="theme-changer__input" type="checkbox" id="theme-changer-input-tablet" data-theme-changer="data-theme-changer"><span class="theme-changer__icon theme-changer__icon_light-theme"></span><span class="theme-changer__icon theme-changer__icon_dark-theme"></span><span class="theme-changer__label-text theme-changer__label-text_light-theme">Light theme</span><span class="theme-changer__label-text theme-changer__label-text_dark-theme">Dark theme</span></label></div></div></div><div class="tablet-menu__line"><div class="tablet-menu__content"><div class="share-icons"><span class="share-icons__title">分享</span><a class="share share_tw" href="https://twitter.com/share?url=https%3A%2F%2Fzh.javascript.info%2Fbezier-curve" rel="nofollow"></a><a class="share share_fb" href="https://www.facebook.com/sharer/sharer.php?s=100&amp;p%5Burl%5D=https%3A%2F%2Fzh.javascript.info%2Fbezier-curve" rel="nofollow"></a></div></div></div><div class="tablet-menu__line"><div class="tablet-menu__content"><select class="tablet-menu__nav input-select input-select input-select_small" onchange="if(this.value) window.location.href=this.value"><option value="https://ar.javascript.info/bezier-curve">عربي</option><option value="https://javascript.info/bezier-curve">English</option><option value="https://es.javascript.info/bezier-curve">Español</option><option value="https://fr.javascript.info/bezier-curve">Français</option><option value="https://id.javascript.info/">Indonesia</option><option value="https://it.javascript.info/bezier-curve">Italiano</option><option value="https://ja.javascript.info/bezier-curve">日本語</option><option value="https://ko.javascript.info/bezier-curve">한국어</option><option value="https://learn.javascript.ru/bezier-curve">Русский</option><option value="https://tr.javascript.info/">Türkçe</option><option value="https://uk.javascript.info/">Українська</option><option value="https://zh.javascript.info/bezier-curve" selected>简体中文</option></select></div></div></div><progress class="tutorial-progress" data-sticky value="1" max="3" data-tooltip="第 1/3 节"></progress></div><div class="page page_sidebar_on page_inner_padding"><script>if(localStorage.noSidebar){document.querySelector(".page").classList.remove("page_sidebar_on");let e=document.querySelector(".page-wrapper");e&&e.classList.remove("page-wrapper_sidebar_on")}setTimeout(function(){document.querySelector(".page").classList.add("page_sidebar-animation-on")});</script><div class="page__inner"><main class="main main_width-limit"><header class="main__header"><div class="main__header-inner"><div class="main__header-group"><ol class="breadcrumbs"><li class="breadcrumbs__item breadcrumbs__item_home"><a class="breadcrumbs__link" href="../index.html"><span class="breadcrumbs__hidden-text">教程</span></a></li><li class="breadcrumbs__item" id="breadcrumb-1"><a class="breadcrumbs__link" href="../animation/index.html"><span>动画</span></a></li><script type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"教程","item":"https://zh.javascript.info/"},{"@type":"ListItem","position":2,"name":"动画","item":"https://zh.javascript.info/animation"}]}</script></ol><div class="updated-at" data-tooltip="最后修改在 15日 十二月 2021"><div class="updated-at__content">15日 十二月 2021</div></div></div><h1 class="main__header-title">贝塞尔曲线</h1></div></header><div class="content"><article class="formatted" itemscope itemtype="http://schema.org/TechArticle"><meta itemprop="name" content="贝塞尔曲线"><div itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="email" content="iliakan@gmail.com"><meta itemprop="name" content="Ilya Kantor"></div><div itemprop="articleBody"><p>贝塞尔曲线用于计算机图形绘制形状，CSS 动画和许多其他地方。</p>
<p>它们其实非常简单，值得学习一次并且在矢量图形和高级动画的世界里非常受用。</p>
<h2><a class="main__anchor" name="kong-zhi-dian" href="#kong-zhi-dian">控制点</a></h2><p><a href="https://en.wikipedia.org/wiki/B%C3%A9zier_curve">贝塞尔曲线</a>由控制点定义。</p>
<p>这些点可能有 2、3、4 或更多。</p>
<p>例如，两点曲线：</p>
<figure><div class="image" style="width:149px">
      <div class="image__ratio" style="padding-top:125.503355704698%"></div>
      <object type="image/svg+xml" data="../article/bezier-curve/bezier2.svg" width="149" height="187" class="image__image" data-use-theme>
        <img src="../article/bezier-curve/bezier2.svg" alt width="149" height="187">
      </object>
      </div></figure><p>三点曲线：</p>
<figure><div class="image" style="width:149px">
      <div class="image__ratio" style="padding-top:125.503355704698%"></div>
      <object type="image/svg+xml" data="../article/bezier-curve/bezier3.svg" width="149" height="187" class="image__image" data-use-theme>
        <img src="../article/bezier-curve/bezier3.svg" alt width="149" height="187">
      </object>
      </div></figure><p>四点曲线：</p>
<figure><div class="image" style="width:149px">
      <div class="image__ratio" style="padding-top:125.503355704698%"></div>
      <object type="image/svg+xml" data="../article/bezier-curve/bezier4.svg" width="149" height="187" class="image__image" data-use-theme>
        <img src="../article/bezier-curve/bezier4.svg" alt width="149" height="187">
      </object>
      </div></figure><p>如果仔细观察这些曲线，你会立即注意到：</p>
<ol>
<li>
<p><strong>控制点不总是在曲线上</strong>这是非常正常的，稍后我们将看到曲线是如何构建的。</p>
</li>
<li>
<p><strong>曲线的阶次等于控制点的数量减一</strong>。
对于两个点我们能得到一条线性曲线（直线），三个点 — 一条二阶曲线，四个点 — 一条三阶曲线。</p>
</li>
<li>
<p><strong>曲线总是在控制点的<a href="https://en.wikipedia.org/wiki/Convex_hull">凸包</a>内部：</strong></p>
<p><img src="../article/bezier-curve/bezier4-e.svg" alt width="149" height="187"> <img src="../article/bezier-curve/bezier3-e.svg" alt width="149" height="187"></p>
</li>
</ol>
<p>由于最后一个属性，在计算机图形学中，可以优化相交测试。如果凸包不相交，则曲线也不相交。因此，首先检查凸包的交叉点可以非常快地给出“无交叉”结果。检查交叉区域或凸包更容易，因为它们是矩形，三角形等（见上图），比曲线简单的多。</p>
<p>贝塞尔曲线绘制的主要重点 —— 通过移动曲线，曲线<strong>以直观明显的</strong>方式变化。</p>
<p>尝试在下面的示例中使用鼠标移动控制点：</p>
<div class="code-result">
    <div class="code-result__toolbar toolbar"></div>
    <iframe class="code-result__iframe" data-trusted="1" style="height:370px" src="https://zh.js.cx/article/bezier-curve/demo.svg?nocpath=1&amp;p=0,0,0.5,0,0.5,1,1,1"></iframe>
  </div><p><strong>可以注意到，曲线沿切线 1 → 2 和 3 → 4 延伸。</strong></p>
<p>经过一些练习后，很明显我们知道怎样通过放置控制点来获得所需要的曲线。通过连接几条曲线，我们几乎可以得到任何东西。</p>
<p>这里有一些例子：</p>
<p><img src="../article/bezier-curve/bezier-car.svg" alt width="260" height="130"> <img src="../article/bezier-curve/bezier-letter.svg" alt width="166" height="173"> <img src="../article/bezier-curve/bezier-vase.svg" alt width="110" height="170"></p>
<h2><a class="main__anchor" name="shu-xue" href="#shu-xue">数学</a></h2><p>贝塞尔曲线可以使用数学方程式来描述。</p>
<p>很快我们就能看到 —— 没必要知道它。但是为了完整性 —— 请看这里。</p>
<p>给定控制点 <code>P<sub>i</sub></code> 的坐标：第一个控制点的坐标为 <code>P<sub>1</sub> = (x<sub>1</sub>, y<sub>1</sub>)</code>，第二个控制点的坐标为 <code>P<sub>2</sub> = (x<sub>2</sub>, y<sub>2</sub>)</code>，以此类推，曲线坐标由方程式描述，这个方程式依赖属于区间 <code>[0,1]</code> 的参数 <code>t</code>。</p>
<ul>
<li>
<p>有两个控制点的曲线方程：</p>
<p><code>P = (1-t)P<sub>1</sub> + tP<sub>2</sub></code></p>
</li>
<li>
<p>有三个控制点的曲线方程：</p>
<p><code>P = (1−t)<sup>2</sup>P<sub>1</sub> + 2(1−t)tP<sub>2</sub> + t<sup>2</sup>P<sub>3</sub></code></p>
</li>
<li>
<p>有四个控制点的曲线方程：</p>
<p><code>P = (1−t)<sup>3</sup>P<sub>1</sub> + 3(1−t)<sup>2</sup>tP<sub>2</sub>  +3(1−t)t<sup>2</sup>P<sub>3</sub> + t<sup>3</sup>P<sub>4</sub></code></p>
</li>
</ul>
<p>这些是矢量方程。</p>
<p>我们可以逐坐标重写它们，例如 3 点曲线：</p>
<ul>
<li><code>x = (1−t)<sup>2</sup>x<sub>1</sub> + 2(1−t)tx<sub>2</sub> + t<sup>2</sup>x<sub>3</sub></code></li>
<li><code>y = (1−t)<sup>2</sup>y<sub>1</sub> + 2(1−t)ty<sub>2</sub> + t<sup>2</sup>y<sub>3</sub></code></li>
</ul>
<p>我们应该放置 3 个控制点的坐标，而不是 <code>x<sub>1</sub>、y<sub>1</sub>、x<sub>2</sub>、y<sub>2</sub>、x<sub>3</sub> 和 y<sub>3</sub></code>。</p>
<p>例如，如果控制点是 <code>(0,0)</code>、<code>(0.5, 1)</code> 和 <code>(1, 0)</code>，则方程式为：</p>
<ul>
<li><code>x = (1−t)<sup>2</sup> * 0 + 2(1−t)t * 0.5 + t<sup>2</sup> * 1 = (1-t)t + t<sup>2</sup> = t</code></li>
<li><code>y = (1−t)<sup>2</sup> * 0 + 2(1−t)t * 1 + t<sup>2</sup> * 0 = 2(1-t)t = –t<sup>2</sup> + 2t</code></li>
</ul>
<p>现在随着 <code>t</code> 从 <code>0</code> 到 <code>1</code> 变化，每个 <code>t</code> 对应的 <code>(x,y)</code> 集合可以构成曲线。</p>
<p>这可能太学术化了，对于曲线为什么看起来像这样以及它们如何依赖于控制点的描述并不是很明显。</p>
<p>所以绘制算法可能更容易理解。</p>
<h2><a class="main__anchor" name="de-ka-si-te-li-ao-suan-fa" href="#de-ka-si-te-li-ao-suan-fa">德卡斯特里奥算法</a></h2><p><a href="https://en.wikipedia.org/wiki/De_Casteljau%27s_algorithm">德卡斯特里奥算法</a>与曲线的数学定义相同，但直观地显示了曲线是如何被建立的。</p>
<p>让我们看看 3 个控制点的例子。</p>
<p>这里是一个演示，随后会有解释。</p>
<p>控制点可以用鼠标移动，点击 “play” 运行演示。</p>
<div class="code-result">
    <div class="code-result__toolbar toolbar"></div>
    <iframe class="code-result__iframe" data-trusted="1" style="height:370px" src="https://zh.js.cx/article/bezier-curve/demo.svg?p=0,0,0.5,1,1,0&amp;animate=1"></iframe>
  </div><p><strong>德卡斯特里奥算法构造三点贝塞尔曲线：</strong></p>
<ol>
<li>
<p>绘制控制点。在上面的演示中，它们标有：<code>1</code>、<code>2</code> 和 <code>3</code>。</p>
</li>
<li>
<p>创建控制点 1 → 2 → 3 间的线段. 在上面的演示中它们是<span style="color:#825E28">棕色</span>的。</p>
</li>
<li>
<p>参数 <code>t</code> 从 <code>0</code> to <code>1</code> 变化。 在上面的演示中取值 <code>0.05</code>：循环遍历 <code>0, 0.05, 0.1, 0.15, ... 0.95, 1</code>。</p>
<p>对于每一个 <code>t</code> 的取值：</p>
<ul>
<li>
<p>在每一个<span style="color:#825E28">棕色</span>线段上我们取一个点，这个点距起点的距离按比例 <code>t</code> 取值。由于有两条线段，我们能得到两个点。</p>
<p>例如，当 <code>t=0</code> — 所有点都在线段起点处，当 <code>t=0.25</code> — 点到起点的距离为线段长度的 25%，当 <code>t=0.5</code> — 50%（中间），当 <code>t=1</code> — 线段终点。</p>
</li>
<li>
<p>连接这些点，下面这张图中连好的线被绘制成<span style="color:#167490">蓝色</span>。</p>
</li>
</ul>
</li>
</ol>
<table>
<thead>
<tr>
<th>当 <code>t=0.25</code></th>
<th>当 <code>t=0.5</code></th>
</tr>
</thead>
<tbody>
<tr>
<td><img src="../article/bezier-curve/bezier3-draw1.svg" alt width="340" height="350"></td>
<td><img src="../article/bezier-curve/bezier3-draw2.svg" alt width="340" height="350"></td>
</tr>
</tbody>
</table>
<ol start="4">
<li>
<p>现在在<span style="color:#167490">蓝色</span>线段上取一个点，距离比例取相同数值的 <code>t</code>。也就是说，当 <code>t=0.25</code>（左图）时，我们取到的点位于线段的左 1/4 终点处，当 <code>t=0.5</code>（右图）时 — 线段中间。在上图中这一点是<span style="color:red">红色</span>的。</p>
</li>
<li>
<p>随着 <code>t</code> 从 <code>0</code> to <code>1</code> 变化，每一个 <code>t</code> 的值都会添加一个点到曲线上。这些点的集合就形成的贝塞尔曲线。它在上面的图中是红色的，并且是抛物线状的。</p>
</li>
</ol>
<p>这是三控制点的处理过程，但是对于 4 个点同样适用。</p>
<p>4 个控制点的演示（点可以被鼠标移动）：</p>
<div class="code-result">
    <div class="code-result__toolbar toolbar"></div>
    <iframe class="code-result__iframe" data-trusted="1" style="height:370px" src="https://zh.js.cx/article/bezier-curve/demo.svg?p=0,0,0.5,0,0.5,1,1,1&amp;animate=1"></iframe>
  </div><p>算法：</p>
<ul>
<li>控制点通过线段连接：1 → 2、2 → 3 和 3 → 4。 我们能得到 3 条<span style="color:#825E28">棕色</span>的线段。</li>
<li>对于 <code>0</code> to <code>1</code> 之间的每一个 <code>t</code>：
<ul>
<li>我们在这些线段上距起点距离比例为 <code>t</code> 的位置取点。把这些点连接起来，然后得到两条<span style="color:#0A0">绿色线段</span>。</li>
<li>在这些线段上同样按比例 <code>t</code> 取点，得到一条<span style="color:#167490">蓝色线段</span>。</li>
<li>在蓝色线段按比例 <code>t</code> 取点。在上面的例子中是<span style="color:red">红色</span>的。</li>
</ul>
</li>
<li>这些点在一起组成了曲线。</li>
</ul>
<p>该算法是递归的，并且可以适应于任意数量的控制点。</p>
<p>给定 N 个控制点，我们将它们连接起来以获得初始的 N-1 个线段。</p>
<p>然后对从 <code>0</code> 到 <code>1</code> 的每一个 <code>t</code>：</p>
<ul>
<li>在每条线段上按 <code>t</code> 比例距离取一个点并且连接 —— 会得到 N-2 个线段。</li>
<li>在上面得到的每条线段上按 <code>t</code> 比例距离取一个点并且连接 —— 会得到 N-3 个线段，以此类推……</li>
<li>直到我们得到一个点。得到的这些点就形成了曲线。</li>
</ul>
<p>曲线的移动演示:</p>
<div class="code-result">
    <div class="code-result__toolbar toolbar"></div>
    <iframe class="code-result__iframe" data-trusted="1" style="height:370px" src="https://zh.js.cx/article/bezier-curve/demo.svg?p=0,0,0,0.75,0.25,1,1,1&amp;animate=1"></iframe>
  </div><p>和其它的点：</p>
<div class="code-result">
    <div class="code-result__toolbar toolbar"></div>
    <iframe class="code-result__iframe" data-trusted="1" style="height:370px" src="https://zh.js.cx/article/bezier-curve/demo.svg?p=0,0,1,0.5,0,0.5,1,1&amp;animate=1"></iframe>
  </div><p>环形：</p>
<div class="code-result">
    <div class="code-result__toolbar toolbar"></div>
    <iframe class="code-result__iframe" data-trusted="1" style="height:370px" src="https://zh.js.cx/article/bezier-curve/demo.svg?p=0,0,1,0.5,0,1,0.5,0&amp;animate=1"></iframe>
  </div><p>非平滑贝塞尔曲线：</p>
<div class="code-result">
    <div class="code-result__toolbar toolbar"></div>
    <iframe class="code-result__iframe" data-trusted="1" style="height:370px" src="https://zh.js.cx/article/bezier-curve/demo.svg?p=0,0,1,1,0,1,1,0&amp;animate=1"></iframe>
  </div><p>由于算法是递归的，我们可以构建任何顺序的贝塞尔曲线：使用 5 个、6 个或更多个控制点。但在实践中它们没那么有用。通常我们取 2-3 个点，对于复杂的线条，将几条曲线拼接在一起。这更容易开发和计算。</p>
<div class="important important_smart">
            <div class="important__header"><span class="important__type">如何通过给定点绘制曲线？</span></div>
            <div class="important__content"><p>我们使用控制点制作贝塞尔曲线。正如我们所见，它们并不在曲线上。或者更准确地说，第一个和最后一个在曲线上，但其它的不在。</p>
<p>有时我们有另一种任务：绘制一条曲线<strong>通过几个点</strong>，让它们都在一条平滑曲线上。这种任务叫<a href="https://en.wikipedia.org/wiki/Interpolation">插值</a>，这里我们不覆盖讲解它。</p>
<p>这些曲线有数学方程式，例如<a href="https://en.wikipedia.org/wiki/Lagrange_polynomial">拉格朗日多项式</a>。</p>
<p>在计算机图形中<a href="https://en.wikipedia.org/wiki/Spline_interpolation">样条插值</a>通常用于构建连接多个点的平滑曲线。</p>
</div></div>
<h2><a class="main__anchor" name="zong-jie" href="#zong-jie">总结</a></h2><p>贝塞尔曲线由其控制点定义。</p>
<p>贝塞尔曲线的两种定义方法：</p>
<ol>
<li>使用数学方程式。</li>
<li>使用绘图过程：德卡斯特里奥算法</li>
</ol>
<p>贝塞尔曲线的优点：</p>
<ul>
<li>我们可以通过控制点移动来用鼠标绘制平滑线条。</li>
<li>复杂的形状可以由多条贝塞尔曲线组成。</li>
</ul>
<p>用途：</p>
<ul>
<li>在计算机图形学，建模，矢量图形编辑器中。字体由贝塞尔曲线描述。</li>
<li>在 Web 开发中 — 用于 Canvas 上的图形和 SVG 格式。顺便说一下，上面的“实时”示例是用 SVG 编写的。它们实际上是一个 SVG 文档，被赋予不同的控制点做参数。你可以在单独的窗口中打开它并查源码：<a href="../article/bezier-curve/demo_p%3D0%2C0%2C1%2C0.5%2C0%2C0.5%2C1%2C1%26animate%3D1.svg">demo.svg</a>。</li>
<li>在 CSS 动画中描述动画的路径和速度。</li>
</ul>
</div></article></div><div class="page__nav-wrap"><a class="page__nav page__nav_prev" href="../animation/index.html" data-tooltip="动画"><span class="page__nav-text"><span class="page__nav-text-shortcut"></span></span><span class="page__nav-text-alternate">上一节</span></a><a class="page__nav page__nav_next" href="../css-animations/index.html" data-tooltip="CSS 动画"><span class="page__nav-text"><span class="page__nav-text-shortcut"></span></span><span class="page__nav-text-alternate">下一节</span></a></div><div class="article-tablet-foot tablet-only"><div class="article-tablet-foot__layout"><div class="share-icons"><span class="share-icons__title">分享</span><a class="share share_tw" href="https://twitter.com/share?url=https%3A%2F%2Fzh.javascript.info%2Fbezier-curve" rel="nofollow"></a><a class="share share_fb" href="https://www.facebook.com/sharer/sharer.php?s=100&amp;p%5Burl%5D=https%3A%2F%2Fzh.javascript.info%2Fbezier-curve" rel="nofollow"></a></div><div class="article-tablet-foot__map"><a class="map" href="../tutorial/map/index.html" data-action="tutorial-map"><span class="map__text">教程路线图</span></a></div></div></div><div class="comments formatted" id="comments"><div class="comments__header"><h2 class="comments__header-title"><a href="#comments" name="comments">评论</a></h2><div class="comments__read-before"><span class="comments__read-before-link">在评论之前先阅读本内容…</span><div class="comments__read-before-popup"><div class="comments__read-before-popup-i"><ul><li>如果你发现教程有错误，或者有其他需要修改和提升的地方 — 请 <a href="https://github.com/javascript-tutorial/zh.javascript.info/issues">提交一个 GitHub issue</a> 或 pull request，而不是在这评论。</li><li>如果你对教程的内容有不理解的地方 — 请详细说明。</li><li>使用 <code>&lt;code&gt;</code> 标签插入只有几个词的代码，插入多行代码可以使用 <code>&lt;pre&gt;</code> 标签，对于超过 10 行的代码，建议你使用沙箱（<a href="https://plnkr.co/edit/?p=preview">plnkr</a>，<a href="https://jsbin.com">JSBin</a>，<a href="http://codepen.io">codepen</a>…）</li></ul></div></div></div></div><div id="disqus_thread"></div><script>var disqus_config = function() { if (!this.page) this.page = {}; Object.assign(this.page, {"url":"https:\/\/zh.javascript.info\/bezier-curve","identifier":"\/bezier-curve"}); };</script><script>var disqus_shortname = "zh-javascript-info";</script><script>var disqus_enabled = true;</script></div></main></div><div class="sidebar page__sidebar sidebar sidebar_sticky-footer"><button class="sidebar__toggle" data-sidebar-toggle></button><a class="map" href="../tutorial/map/index.html" data-action="tutorial-map" data-tooltip="教程路线图"></a><div class="sidebar__inner"><div class="sidebar__content"><div class="sidebar__section"><h4 class="sidebar__section-title">章节</h4><nav class="sidebar__navigation"><ul class="sidebar__navigation-links"><li class="sidebar__navigation-link"><a class="sidebar__link" href="../animation/index.html">动画</a></li></ul></nav></div><div class="sidebar__section"><h4 class="sidebar__section-title">课程导航</h4><nav class="sidebar__navigation"><ul class="sidebar__navigation-links"><li class="sidebar__navigation-link"><a class="sidebar__link" href="#kong-zhi-dian">控制点</a></li><li class="sidebar__navigation-link"><a class="sidebar__link" href="#shu-xue">数学</a></li><li class="sidebar__navigation-link"><a class="sidebar__link" href="#de-ka-si-te-li-ao-suan-fa">德卡斯特里奥算法</a></li><li class="sidebar__navigation-link"><a class="sidebar__link" href="#zong-jie">总结</a></li></ul></nav></div><div class="sidebar__section"><nav class="sidebar__navigation"><ul class="sidebar__navigation-links"><li class="sidebar__navigation-link"><a class="sidebar__link" href="#comments">评论</a></li></ul></nav></div><div class="sidebar__section"><div class="sidebar__section-title">分享</div><a class="share share_tw sidebar__share" href="https://twitter.com/share?url=https%3A%2F%2Fzh.javascript.info%2Fbezier-curve" rel="nofollow"></a><a class="share share_fb sidebar__share" href="https://www.facebook.com/sharer/sharer.php?s=100&amp;p[url]=https%3A%2F%2Fzh.javascript.info%2Fbezier-curve" rel="nofollow"></a></div><div class="sidebar__section"><a class="sidebar__link" href="https://github.com/javascript-tutorial/zh.javascript.info/blob/master/7-animation/1-bezier-curve" rel="nofollow">在 GitHub 上编辑</a></div></div></div></div></div></div><div class="page-footer"><ul class="page-footer__list"><li class="page-footer__item page-footer__item_copy">©&nbsp;2007—2022&nbsp; Ilya Kantor</li><li class="page-footer__item page-footer__item_about"><a class="page-footer__link" href="../about/index.html">关于本项目</a></li><li class="page-footer__item page-footer__item_contact"><a class="page-footer__link" href="../about/index.html#contact-us">联系我们</a></li></ul></div></body></html>